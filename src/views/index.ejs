<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Relatorio</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');

    * {
      margin: 0;
      border: 0;
      box-sizing: border-box;
      font-family: 'Lato', sans-serif;
    }

    body {
      background: rgb(241, 242, 248);
    }

    .main,
    .report-infos-container,
    .report-info,
    .report-info-header,
    .logs-container,
    .logs-container-header,
    .logs-container-body,
    .log,
    .log-info {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    svg {
      width: 25px;
      height: 25px;
    }

    .main {
      margin: 0 auto;
      width: 100%;
      min-height: 100vh;
      background: rgb(241, 242, 248);
      flex-direction: row;
      justify-content: center;
      padding: 3rem;
      gap: 4rem;
    }

    .report-infos-container {
      flex-direction: column;
      align-items: flex-start;
      gap: 3rem;
      align-self: flex-start;
    }

    .report-info {
      flex-direction: column;
      gap: 1rem;
      box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
      /* border-radius: 8px; */
      min-width: 300px;
      background: #fff;
    }

    .report-info .report-info-header {
      flex-direction: row;
      justify-content: flex-start;
      padding: 1rem;
      gap: 1rem;
      width: 100%;
      /* border-radius: 8px 8px 0 0; */
      font-weight: 700;
    }

    .report-info .report-info-body {
      text-align: center;
      width: 100%;
      padding: 1rem 1rem 2rem;
      font-size: 1.3rem;
    }

    .transfer-tries .report-info-header {
      background: #FCF5C7;
    }

    .transfer-last .report-info-header {
      background: #A0CED9;
    }

    .transfer-connection .report-info-header {
      background: #61E786;
    }

    .logs-container {
      width: 100%;
      flex-direction: column;
      justify-content: flex-start;
      background: #fff;
      /* border-radius: 8px; */
      box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
      align-self: stretch;
      max-height: 85vh;
    }

    .logs-container-header {
      padding: 1rem;
      width: 100%;
      justify-content: flex-start;
      flex-direction: row;
      font-size: 1.3rem;
      background: #48435C;
      /* border-radius: 8px 8px 0 0; */
      gap: 1rem;
      color: #fff;
    }

    .logs-container-body {
      flex-direction: column;
      width: 100%;
      padding: 1rem .5rem;
    }

    .log {
      width: 100%;
      justify-content: space-between;
      border: 1px solid #48435C;
      /* border-radius: 8px; */
      overflow: hidden;

    }

    .log-info {
      flex-direction: column;
      gap: .5rem;
      width: 100%;
    }

    .log-info-header {
      padding: .5rem;
      width: 100%;
      text-align: center;
      color: #fff;
      background: #5A5766;
    }


    .log-info-body {
      padding: .5rem;
      width: 100%;
      text-align: center;
    }

    .table-container {
      overflow-y: auto;
      max-height: 100%;
      width: 100%;
    }

    .table-container::-webkit-scrollbar-track {
      background: #fff;
    }

    .table-container::-webkit-scrollbar-thumb {
      background: #5A5766;
    }

    .log-table {
      width: 100%;
      border-spacing: 0 1rem;
    }

    .log-table th,
    .log-table td {
      text-align: left;
      padding: .8rem 1rem;
      font-size: 0.9rem;
    }

    .log-table th {
      color: rgb(160, 162, 174);
      border-bottom: 1px solid rgb(217, 217, 217);
    }

    .log-table td {
      border-bottom: 1px solid rgb(217, 217, 217);
    }

    .log-table-sucess {
      color: #61E786;
    }

    .log-table-failure {
      color: #EF2D56;
    }
    .table-header {
      width: 100%;
    }
    .table-header table {
      border-spacing: 0;
    }
    .log-table-origem {
      width: 15%;
    }
    .log-table-text {
      width: 35%;
    }
    .log-table-date, .log-table-sucess {
      width: 25%;
    }
  </style>
</head>

<body>
  <section class="main">
    <div class="report-infos-container">

      <div class="report-info transfer-tries">
        <div class="report-info-header">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="#000" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <line x1="21" y1="17" x2="3" y2="17" />
            <path d="M6 10l-3 -3l3 -3" />
            <line x1="3" y1="7" x2="21" y2="7" />
            <path d="M18 20l3 -3l-3 -3" />
          </svg>
          <span class="report-info-header-text">
            Tentativas de transfêrencias
          </span>
        </div>
        <div class="report-info-body">
          <%= report.logs.length %>
        </div>
      </div>

      <div class="report-info transfer-last">
        <div class="report-info-header">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-table-export" width="36"
            height="36" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000" fill="none" stroke-linecap="round"
            stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M11.5 20h-5.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v7.5m-16 -3.5h16m-10 -6v16m4 -1h7m-3 -3l3 3l-3 3" />
          </svg>

          <span class="report-info-header-text">
            Ultima transfêrencia
          </span>
        </div>
        <div class="report-info-body">
          <%= report.lastTransfer %>
        </div>
      </div>
    </div>

    <div class="logs-container">
      <div class="logs-container-header">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-message-report" width="36"
          height="36" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round"
          stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <path d="M4 21v-13a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v6a3 3 0 0 1 -3 3h-9l-4 4" />
          <line x1="12" y1="8" x2="12" y2="11" />
          <line x1="12" y1="14" x2="12" y2="14.01" />
        </svg>
        <span class="logs-container-header-text">Logs</span>
      </div>
      <div class="table-header">
        <table class="log-table">
          <tr>
            <th class="log-table-origem">Origem</th>
            <th class="log-table-text">Log</th>
            <th class="log-table-date">Data</th>
            <th class="log-table-success">Situação</th>
          </tr>
        </table>
      </div>
      <div class="table-container">
        <table class="log-table">
          <% report.logs.forEach(log=> { %>
            <tr>
              <td class="log-table-origem">/<%= log.table %>
              </td>
              <td class="log-table-text">
                <%= log.text %>
              </td>
              <td class="log-table-date">
                <%= new Date(log.date).toLocaleString('pt-BR') %>
              </td>
              <td class="log-table-success">
                <% if(log.success){ %>
                  <span class="log-table-sucess">Sucesso</span>
                  <% } else { %>
                    <span class="log-table-failure">Falha</span>
                    <% } %>
              </td>
            </tr>
            <% });%>
        </table>
      </div>
    </div>
  </section>
</body>

</html>